<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Knowledge Vault - AI-Powered Enterprise Knowledge Platform</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
<style>
  /* === Variables (strict color scheme) === */
  :root{
    --blue: #6B7DAD;
    --accent: #FFE2BF;
    --bg: #FFF3E4;
    --text: #1a1a2e;
    --muted: #4a4a5e;
    --glass: rgba(255,255,255,0.75);
    --glass-strong: rgba(255,255,255,0.9);
    --shadow: rgba(107,125,173,0.18);
    --radius-lg: 28px;
    --radius-pill: 50px;
  }

  /* === Base / Reset === */
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{
    font-family:'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background:var(--bg);
    color:var(--text);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    line-height:1.6;
    overflow-x:hidden;
  }

  .container{max-width:1400px;margin:0 auto;padding:0 48px}

  /* === Header / Nav === */
  header{
    position:fixed;inset:0 0 auto 0;z-index:1200;
    background:linear-gradient(180deg, rgba(255,243,228,0.95), rgba(255,243,228,0.85));
    border-bottom:1px solid rgba(107,125,173,0.07);
    backdrop-filter: blur(10px);
  }
  nav.container{
    display:flex;align-items:center;justify-content:space-between;padding:18px 0;
  }
  .logo-container{display:flex;gap:14px;align-items:center}
  .logo-icon{
    width:56px;height:56px;border-radius:50%;overflow:hidden;
    background:linear-gradient(135deg,var(--accent),var(--blue));
    box-shadow:0 6px 22px var(--shadow);
    display:inline-flex;align-items:center;justify-content:center;flex-shrink:0;
  }
  .logo-icon img{width:72%;height:72%;object-fit:contain;display:block}

  .logo-text{font-weight:900;font-size:20px;color:var(--text);letter-spacing:-0.3px}
  .nav-links{
    display:flex;gap:28px;align-items:center;list-style:none;margin-left:28px;
  }
  .nav-links a{
    color:var(--muted);text-decoration:none;font-weight:600;font-size:15px;padding:8px 6px;border-radius:8px;
    transition:all .18s ease;
  }
  .nav-links a:hover{color:var(--blue);transform:translateY(-3px)}

  .cta-button{
    background:linear-gradient(135deg,var(--blue),#8a9ec9);
    color:var(--bg);padding:12px 24px;border-radius:var(--radius-pill);text-decoration:none;font-weight:800;
    box-shadow:0 10px 28px rgba(107,125,173,0.24);transition:transform .18s,box-shadow .18s;
  }
  .cta-button:hover{transform:translateY(-3px);box-shadow:0 16px 40px rgba(107,125,173,0.34)}

  /* Mobile nav toggler */
  .nav-right{display:flex;align-items:center;gap:18px}
  .hamburger{display:none;width:44px;height:44px;border-radius:12px;background:transparent;border:1px solid rgba(26,26,46,0.04);display:inline-flex;align-items:center;justify-content:center;cursor:pointer}
  .hamburger span{width:20px;height:2px;background:var(--text);display:block;position:relative}
  .hamburger span::after,.hamburger span::before{content:"";position:absolute;left:0;width:20px;height:2px;background:var(--text)}
  .hamburger span::before{top:-6px} .hamburger span::after{top:6px}

  /* === Hero === */
  .hero{
    position:relative;min-height:100vh;display:flex;align-items:center;padding-top:120px;padding-bottom:80px;overflow:hidden;
  }

  /* Background layers: GIFs, orbs, canvas */
  .bg-layer{
    position:absolute;inset:0;z-index:0;pointer-events:none;
  }
  .bg-gif{
    position:absolute;inset:0;background-position:center;background-size:cover;opacity:0.12;mix-blend-mode:overlay;filter:blur(6px) saturate(110%);
    animation:bgPulse 20s infinite linear;
  }
  .bg-gif.bg-left{left:-20%;width:70%;height:100%;background-image:url('https://i.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif')}
  .bg-gif.bg-right{right:-20%;width:60%;height:100%;background-image:url('https://i.giphy.com/media/xUPGcEliCc7bETyfO8/giphy.gif')}

  @keyframes bgPulse{0%{transform:scale(1)}50%{transform:scale(1.04)}100%{transform:scale(1)}}

  .gradient-orb{
    position:absolute;border-radius:50%;filter:blur(80px);opacity:0.28;mix-blend-mode:screen;animation:float 24s ease-in-out infinite;
  }
  .orb-1{width:600px;height:600px;right:6%;top:6%;background:radial-gradient(circle,var(--blue) 0%, transparent 65%);animation-delay:0s}
  .orb-2{width:520px;height:520px;left:-4%;bottom:6%;background:radial-gradient(circle,var(--accent) 0%, transparent 65%);animation-delay:7s}
  .orb-3{width:420px;height:420px;left:30%;top:28%;background:radial-gradient(circle,#8a9ec9 0%, transparent 65%);animation-delay:14s}

  @keyframes float{
    0%,100%{transform:translate(0,0) scale(1)}
    33%{transform:translate(60px,-40px) scale(1.05)}
    66%{transform:translate(-40px,50px) scale(0.92)}
  }

  /* Hero content */
  .hero-content{position:relative;z-index:6;max-width:980px}
  .tagline{display:inline-flex;gap:12px;align-items:center;padding:10px 20px;border-radius:50px;background:var(--glass);border:1px solid rgba(107,125,173,0.12);font-weight:700;color:var(--blue);margin-bottom:22px;backdrop-filter:blur(6px)}
  .hero h1{font-size:64px;font-weight:900;line-height:1.02;margin-bottom:18px;color:var(--text)}
  .gradient-text{
    display:block;background:linear-gradient(135deg,var(--blue),var(--accent));-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;margin-top:6px;font-size:1.02em
  }
  .hero-subtitle{font-size:18px;color:var(--muted);max-width:720px;margin-bottom:28px;font-weight:500}

  .stats-row{display:flex;gap:18px;flex-wrap:wrap;margin-bottom:36px}
  .stat-pill{display:inline-flex;align-items:center;gap:12px;padding:12px 20px;border-radius:50px;background:var(--glass);border:2px solid rgba(107,125,173,0.08);box-shadow:0 8px 20px rgba(107,125,173,0.06)}
  .stat-icon svg{width:18px;height:18px;fill:none;stroke:var(--blue);stroke-width:2}
  .stat-text{font-weight:700;color:var(--text)}

  .cta-group{display:flex;gap:18px;align-items:center;margin-bottom:52px}
  .cta-primary{background:linear-gradient(135deg,var(--blue),#8a9ec9);color:var(--bg);padding:14px 30px;border-radius:50px;text-decoration:none;font-weight:800;display:inline-flex;align-items:center;gap:10px;box-shadow:0 14px 40px rgba(107,125,173,0.28)}
  .cta-secondary{color:var(--blue);text-decoration:none;font-weight:700}

  /* Metrics */
  .metrics-section{display:grid;grid-template-columns:repeat(3,1fr);gap:24px;margin-top:14px}
  .metric-box{padding:28px;border-radius:20px;background:rgba(255,255,255,0.75);border:1px solid rgba(107,125,173,0.08);text-align:center;backdrop-filter:blur(6px)}
  .metric-value{font-size:46px;font-weight:900;background:linear-gradient(135deg,var(--blue),var(--accent));-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;line-height:1}
  .metric-label{color:var(--muted);font-weight:700;margin-top:6px}

  /* Features */
  .features-section{padding:80px 0;background:linear-gradient(180deg,var(--bg), rgba(255,226,191,0.08))}
  .section-header{text-align:center;margin-bottom:40px}
  .section-tag{display:inline-block;background:rgba(107,125,173,0.08);color:var(--blue);padding:8px 16px;border-radius:50px;font-weight:800;font-size:12px}
  .section-title{font-size:40px;font-weight:900;color:var(--text);margin-top:14px}
  .section-subtitle{color:var(--muted);max-width:760px;margin:12px auto 0;font-weight:500}

  .features-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-top:28px}
  .feature-card{background:rgba(255,255,255,0.85);padding:26px;border-radius:18px;border:1px solid rgba(107,125,173,0.08);transition:transform .28s,box-shadow .28s;position:relative;overflow:hidden}
  .feature-card:hover{transform:translateY(-8px);box-shadow:0 30px 60px rgba(107,125,173,0.12)}
  .feature-number{display:inline-block;font-weight:800;color:var(--blue);background:rgba(107,125,173,0.08);padding:8px 14px;border-radius:50px;margin-bottom:12px}
  .feature-card h3{font-size:20px;margin-bottom:8px}
  .feature-card p{color:var(--muted);font-weight:500}

  /* Demo section */
  .demo-section{padding:80px 0}
  .demo-container{display:flex;gap:48px;align-items:center}
  .demo-frame{flex:1;height:420px;border-radius:20px;border:3px solid rgba(107,125,173,0.12);background:linear-gradient(180deg,white, rgba(255,255,255,0.95));box-shadow:0 30px 70px rgba(107,125,173,0.08);overflow:hidden}
  .demo-canvas{width:100%;height:100%;display:block}

  .demo-content{flex:1}
  .demo-content h3{font-size:28px;font-weight:900;margin-bottom:12px;color:var(--text)}
  .demo-features{display:flex;flex-direction:column;gap:14px}
  .check-icon{width:34px;height:34px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;font-weight:700;background:linear-gradient(135deg,var(--blue),#8a9ec9);color:var(--bg);box-shadow:0 6px 18px rgba(107,125,173,0.22)}

  /* Responsive */
  @media (max-width:1100px){
    .hero h1{font-size:56px}
    .nav-links{display:none}
    .hamburger{display:inline-flex}
  }
  @media (max-width:820px){
    .container{padding:0 20px}
    .hero h1{font-size:44px}
    .demo-container{flex-direction:column}
    .metrics-section{grid-template-columns:1fr}
  }
  @media (max-width:480px){
    .hero h1{font-size:34px}
    .gradient-text{font-size:0.95em}
    .tagline{font-size:13px;padding:8px 14px}
    .cta-group{flex-direction:column;align-items:flex-start}
  }

  /* small utility */
  .visually-hidden{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
</style>
</head>
<body>

<header>
  <nav class="container" aria-label="Main navigation">
    <div style="display:flex;align-items:center;">
      <div class="logo-container" role="img" aria-label="Knowledge Vault logo">
        <div class="logo-icon">
          <!-- Uses the provided image available on the server; change path if needed -->
          <img src="/mnt/data/21745082-443a-4bc6-ac8f-17977b778cf5.png" alt="Knowledge Vault logo">
        </div>
        <div class="logo-text">Knowledge Vault</div>
      </div>
      <ul class="nav-links" role="menubar" aria-hidden="false" style="margin-left:22px">
        <li role="none"><a role="menuitem" href="#platform">Platform</a></li>
        <li role="none"><a role="menuitem" href="#features">Features</a></li>
        <li role="none"><a role="menuitem" href="#demo">Demo</a></li>
        <li role="none"><a role="menuitem" href="#contact">Contact</a></li>
      </ul>
    </div>

    <div class="nav-right">
      <a class="cta-button" href="#demo">Request Demo</a>
      <button class="hamburger" id="navToggle" aria-label="Open menu"><span></span></button>
    </div>
  </nav>

  <!-- Mobile slide-out nav -->
  <div id="mobileNav" style="position:fixed;top:80px;right:18px;background:var(--glass-strong);box-shadow:0 20px 40px rgba(26,26,46,0.06);backdrop-filter:blur(8px);padding:12px;border-radius:14px;display:none;z-index:1300;">
    <a href="#platform" style="display:block;padding:8px 12px;color:var(--text);font-weight:700;text-decoration:none">Platform</a>
    <a href="#features" style="display:block;padding:8px 12px;color:var(--text);font-weight:700;text-decoration:none">Features</a>
    <a href="#demo" style="display:block;padding:8px 12px;color:var(--text);font-weight:700;text-decoration:none">Demo</a>
    <a href="#contact" style="display:block;padding:8px 12px;color:var(--text);font-weight:700;text-decoration:none">Contact</a>
  </div>
</header>

<section class="hero" id="platform" aria-labelledby="heroTitle">
  <!-- background layered visuals -->
  <div class="bg-layer" aria-hidden="true">
    <div class="bg-gif bg-left"></div>
    <div class="bg-gif bg-right"></div>
    <div class="gradient-orb orb-1"></div>
    <div class="gradient-orb orb-2"></div>
    <div class="gradient-orb orb-3"></div>
    <canvas id="bgCanvas" style="position:absolute;inset:0;width:100%;height:100%;z-index:1;"></canvas>
  </div>

  <div class="container hero-content">
    <div class="tagline">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
        <path d="M13 10V3L4 14h7v7l9-11h-7z" fill="var(--blue)"/>
      </svg>
      Capturing institutional knowledge before it walks out the door
    </div>

    <h1 id="heroTitle">
      Transform Employee Onboarding
      <span class="gradient-text">Scale With AI Knowledge</span>
    </h1>

    <p class="hero-subtitle">
      Cut onboarding time by 50% with our 6-layer AI system that intelligently ingests, filters, and delivers institutional knowledge from 10+ sources—with enterprise-grade privacy.
    </p>

    <div class="stats-row">
      <div class="stat-pill"><div class="stat-icon" aria-hidden="true"><svg viewBox="0 0 24 24" fill="none"><path d="M4 7h16M4 12h16M4 17h16" stroke="#6B7DAD" stroke-width="2" stroke-linecap="round"/></svg></div><div class="stat-text">10+ Data Sources</div></div>
      <div class="stat-pill"><div class="stat-icon" aria-hidden="true"><svg viewBox="0 0 24 24" fill="none"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5" stroke="#6B7DAD" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></div><div class="stat-text">6-Layer AI Architecture</div></div>
    </div>

    <div class="cta-group">
      <a class="cta-primary" href="#demo">Start Your Pilot <span aria-hidden="true" style="font-size:20px;margin-left:6px">→</span></a>
      <a class="cta-secondary" href="#features">See How It Works <span aria-hidden="true" style="font-size:20px;margin-left:6px">→</span></a>
    </div>

    <div class="metrics-section" aria-hidden="false">
      <div class="metric-box"><div class="metric-value" data-target="75">0%</div><div class="metric-label">Reduction in Search Time</div></div>
      <div class="metric-box"><div class="metric-value" data-target="50">0%</div><div class="metric-label">Faster Onboarding</div></div>
      <div class="metric-box"><div class="metric-value" data-target="73">0%</div><div class="metric-label">Fewer Irrelevant Results</div></div>
    </div>
  </div>
</section>

<section class="demo-section" id="demo">
  <div class="container">
    <div class="section-header">
      <div class="section-tag">Live Demo</div>
      <h2 class="section-title">See It In Action</h2>
      <p class="section-subtitle">Watch how Knowledge Vault transforms scattered data into instant, actionable insights</p>
    </div>

    <div class="demo-container">
      <div class="demo-visual">
        <div class="demo-frame" role="img" aria-label="Live demo visualization">
          <canvas id="demoCanvas" class="demo-canvas" width="700" height="420"></canvas>
        </div>
      </div>

      <div class="demo-content">
        <h3>Real-Time Knowledge Processing</h3>
        <p>Our AI continuously ingests, filters, and organizes your company's knowledge across all platforms, making it instantly searchable and actionable for every employee.</p>
        <div class="demo-features">
          <div style="display:flex;gap:12px;align-items:center"><div class="check-icon">✓</div><div>Connects to 10+ data sources simultaneously</div></div>
          <div style="display:flex;gap:12px;align-items:center"><div class="check-icon">✓</div><div>Privacy-first filtering with user controls</div></div>
          <div style="display:flex;gap:12px;align-items:center"><div class="check-icon">✓</div><div>Multi-modal responses with citations</div></div>
          <div style="display:flex;gap:12px;align-items:center"><div class="check-icon">✓</div><div>Active learning through user feedback</div></div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="features-section" id="features" aria-labelledby="featuresTitle">
  <div class="container">
    <div class="section-header">
      <div class="section-tag">Technology</div>
      <h2 id="featuresTitle" class="section-title">The 6-Layer AI Architecture</h2>
      <p class="section-subtitle">A sophisticated system that transforms scattered company knowledge into intelligent, accessible insights</p>
    </div>

    <div class="features-grid">
      <div class="feature-card"><div class="feature-number">LAYER 1</div><h3>Multi-Source Ingestion</h3><p>Seamlessly connects to 10+ platforms including Slack, MS Teams, Google Suite, Confluence, and Jira—exceeding competitors' 3–5 source limitation.</p></div>
      <div class="feature-card"><div class="feature-number">LAYER 2</div><h3>Privacy-First Filtering</h3><p>Advanced sentiment analysis and pre-trained classifiers separate personal conversations from business-critical content with user edit controls.</p></div>
      <div class="feature-card"><div class="feature-number">LAYER 3</div><h3>Vector Database Indexing</h3><p>Pinecone-powered semantic search enables lightning-fast retrieval of relevant information from millions of documents and messages.</p></div>
      <div class="feature-card"><div class="feature-number">LAYER 4</div><h3>Active Learning Engine</h3><p>Intelligently asks clarifying questions to users, improving data quality and boosting retrieval accuracy through continuous learning.</p></div>
      <div class="feature-card"><div class="feature-number">LAYER 5</div><h3>Hierarchical Clustering</h3><p>HDBSCAN re-clustering creates semantic organization with metadata tagging, delivering reduction in irrelevant search results.</p></div>
      <div class="feature-card"><div class="feature-number">LAYER 6</div><h3>Multi-Modal RAG Responses</h3><p>Generates comprehensive answers with citation links, training videos, and slide recommendations—not just text responses.</p></div>
    </div>
  </div>
</section>

<script>
/* ============================
   Mobile nav toggle behavior
   ============================ */
const navToggle = document.getElementById('navToggle');
const mobileNav = document.getElementById('mobileNav');
navToggle && navToggle.addEventListener('click', () => {
  const isOpen = mobileNav.style.display === 'block';
  mobileNav.style.display = isOpen ? 'none' : 'block';
});

/* ============================
   Animated background canvas (particles that respond to mouse)
   ============================ */
(() => {
  const canvas = document.getElementById('bgCanvas');
  const ctx = canvas.getContext('2d');
  let w = canvas.width = window.innerWidth;
  let h = canvas.height = window.innerHeight;
  const particles = [];
  const COUNT = Math.floor(Math.min(180, w / 8));
  const mouse = { x: w/2, y: h/2, active: false };

  window.addEventListener('resize', () => { w = canvas.width = window.innerWidth; h = canvas.height = window.innerHeight; });

  window.addEventListener('mousemove', (e) => { mouse.x = e.clientX; mouse.y = e.clientY; mouse.active = true; });
  window.addEventListener('mouseleave', () => mouse.active = false);

  class P {
    constructor(){
      this.reset(true);
    }
    reset(start){
      this.x = Math.random() * w;
      this.y = Math.random() * h;
      this.vx = (Math.random() - 0.5) * 0.6;
      this.vy = (Math.random() - 0.5) * 0.6;
      this.size = Math.random()*2.5 + 0.8;
      this.color = Math.random() > 0.6 ? getComputedStyle(document.documentElement).getPropertyValue('--blue').trim() : getComputedStyle(document.documentElement).getPropertyValue('--accent').trim();
      if(start) this.y = Math.random()*h;
    }
    step(){
      this.x += this.vx;
      this.y += this.vy;
      if(this.x < -50 || this.x > w+50 || this.y < -50 || this.y > h+50) this.reset(false);

      if(mouse.active){
        const dx = mouse.x - this.x;
        const dy = mouse.y - this.y;
        const dist = Math.sqrt(dx*dx + dy*dy);
        if(dist < 140){
          this.vx += dx/dist * 0.06;
          this.vy += dy/dist * 0.06;
        }
      }
    }
    draw(){
      ctx.beginPath();
      ctx.globalAlpha = 0.9;
      ctx.fillStyle = this.color;
      ctx.arc(this.x, this.y, this.size, 0, Math.PI*2);
      ctx.fill();
      // glow
      ctx.globalAlpha = 0.08;
      ctx.beginPath();
      ctx.arc(this.x, this.y, this.size*4.5, 0, Math.PI*2);
      ctx.fill();
      ctx.globalAlpha = 1;
    }
  }

  for(let i=0;i<COUNT;i++) particles.push(new P());

  function loop(){
    ctx.clearRect(0,0,w,h);
    // subtle connecting lines
    for(let i=0;i<particles.length;i++){
      const p = particles[i];
      p.step();
      p.draw();
      for(let j=i+1;j<particles.length;j++){
        const q = particles[j];
        const dx = p.x - q.x;
        const dy = p.y - q.y;
        const d = dx*dx + dy*dy;
        if(d < 1800*2){
          ctx.globalAlpha = Math.max(0, 0.12 - d/120000);
          ctx.strokeStyle = getComputedStyle(document.documentElement).getPropertyValue('--blue').trim();
          ctx.beginPath(); ctx.moveTo(p.x,p.y); ctx.lineTo(q.x,q.y); ctx.stroke();
          ctx.globalAlpha = 1;
        }
      }
    }
    requestAnimationFrame(loop);
  }
  loop();
})();

/* ============================
   Demo canvas: simple interactive nodes
   ============================ */
(() => {
  const c = document.getElementById('demoCanvas');
  if(!c) return;
  const ctx = c.getContext('2d');
  let W = c.width = c.clientWidth;
  let H = c.height = c.clientHeight;
  const nodes = [];
  const count = 20;
  const mouse = {x:W/2,y:H/2,active:false};

  for(let i=0;i<count;i++){
    nodes.push({
      x: Math.random()*W,
      y: Math.random()*H,
      r: Math.random()*8+6,
      vx: (Math.random()-0.5)*1.2,
      vy: (Math.random()-0.5)*1.2,
      color: Math.random()>0.6 ? getComputedStyle(document.documentElement).getPropertyValue('--blue').trim() : getComputedStyle(document.documentElement).getPropertyValue('--accent').trim()
    });
  }

  window.addEventListener('resize', ()=>{ W=c.width=c.clientWidth; H=c.height=c.clientHeight });

  c.addEventListener('mousemove', e => { const r = c.getBoundingClientRect(); mouse.x = e.clientX - r.left; mouse.y = e.clientY - r.top; mouse.active = true; });
  c.addEventListener('mouseleave', ()=> mouse.active=false);

  function draw(){
    ctx.clearRect(0,0,W,H);
    nodes.forEach(n=>{
      n.x += n.vx; n.y += n.vy;
      if(n.x < 0 || n.x > W) n.vx *= -1;
      if(n.y < 0 || n.y > H) n.vy *= -1;

      // repulse from mouse
      if(mouse.active){
        const dx = n.x - mouse.x, dy = n.y - mouse.y;
        const dist = Math.sqrt(dx*dx + dy*dy);
        if(dist < 120 && dist > 1){
          n.x += (dx/dist) * 1.8;
          n.y += (dy/dist) * 1.8;
        }
      }

      // draw
      ctx.beginPath();
      ctx.globalAlpha = 0.95;
      ctx.fillStyle = n.color;
      ctx.arc(n.x,n.y,n.r,0,Math.PI*2);
      ctx.fill();

      // small halo
      ctx.globalAlpha = 0.12;
      ctx.beginPath();
      ctx.arc(n.x,n.y,n.r*4,0,Math.PI*2);
      ctx.fill();
      ctx.globalAlpha = 1;
    });

    // draw connecting lines
    for(let i=0;i<nodes.length;i++){
      for(let j=i+1;j<nodes.length;j++){
        const a = nodes[i], b = nodes[j];
        const dx = a.x - b.x, dy = a.y - b.y;
        const d = dx*dx + dy*dy;
        if(d < 14000){
          ctx.globalAlpha = 1 - d/14000;
          ctx.strokeStyle = getComputedStyle(document.documentElement).getPropertyValue('--blue').trim();
          ctx.beginPath(); ctx.moveTo(a.x,a.y); ctx.lineTo(b.x,b.y); ctx.stroke();
          ctx.globalAlpha = 1;
        }
      }
    }

    requestAnimationFrame(draw);
  }
  draw();
})();

/* ============================
   Metric counters (animate on view)
   ============================ */
(() => {
  const counters = document.querySelectorAll('.metric-value');
  const options = {root:null,threshold:0.4};
  const animate = (el, target) => {
    let cur = 0; const step = Math.max(1, Math.floor(target/30));
    const t = setInterval(()=> { cur += step; el.textContent = cur + '%'; if(cur >= target){ el.textContent = target + '%'; clearInterval(t); } }, 28);
  };
  const io = new IntersectionObserver((entries,obs)=>{
    entries.forEach(en=>{
      if(en.isIntersecting){
        const el = en.target;
        animate(el, parseInt(el.dataset.target || '0',10));
        obs.unobserve(el);
      }
    });
  }, options);
  counters.forEach(c => io.observe(c));
})();

/* ============================
   Accessibility: close mobile nav on outside click
   ============================ */
document.addEventListener('click', (e)=>{
  const mobile = document.getElementById('mobileNav');
  if(!mobile) return;
  if(mobile.style.display === 'block'){
    const navToggle = document.getElementById('navToggle');
    const targetIsInside = mobile.contains(e.target) || (navToggle && navToggle.contains(e.target));
    if(!targetIsInside) mobile.style.display = 'none';
  }
});
</script>

</body>
</html>
